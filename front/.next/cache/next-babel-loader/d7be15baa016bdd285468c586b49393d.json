{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\codingtime\\\\movieBox\\\\front\\\\pages\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport AppLayout from '../components/layout/AppLayout';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { GoogleLogin } from 'react-google-login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Google() {\n  _s();\n\n  var googleLoginBtn = useRef(null);\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      token = _useState2[0],\n      setToken = _useState2[1];\n\n  useEffect(function () {\n    googleSDK();\n  }, []); //SDK 초기 설정 및 내 API초기화\n\n  var googleSDK = function googleSDK() {\n    window.googleSDKLoaded = function () {\n      console.log(window.gapi);\n      window.gapi.load(\"auth2\", function () {\n        var auth2 = window.gapi.auth2.init({\n          client_id: \"내 클라이언트 ID\",\n          scope: \"profile email\"\n        }); //버튼 클릭시 사용자 정보 불러오기\n\n        auth2.attachClickHandler(googleLoginBtn.current, {}, function (googleUser) {\n          var profile = googleUser.getBasicProfile();\n          console.log(profile);\n          console.log(\"Token || \".concat(googleUser.getAuthResponse().id_token));\n          setToken(googleUser.getAuthResponse().id_token);\n          console.log(\"ID: \".concat(profile.getId()));\n          console.log(\"Name: \".concat(profile.getName()));\n          console.log(\"Image URL: \".concat(profile.getImageUrl()));\n          console.log(\"Email: \".concat(profile.getEmail()));\n        }, function (error) {\n          alert(JSON.stringify(error, undefined, 2));\n        });\n      });\n    }; //구글 SDK 불러오기\n\n\n    (function (d, s, id) {\n      var js;\n      var fjs = d.getElementsByTagName(s)[0];\n\n      if (d.getElementById(id)) {\n        return;\n      }\n\n      js = d.createElement(s);\n      js.id = id;\n      js.src = \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, \"script\", \"google-jssdk\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(GoogleBtn, {\n    id: \"gSignInWrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      \"class\": \"label\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: googleLoginBtn,\n      id: \"customBtn\",\n      className: \"customGPlusSignIn\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"buttonText\",\n        children: \"Login with Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Google, \"K7Dh9vSx5qt1fcOo4htHZJTwu64=\");\n\n_c = Google;\nexport default login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Google\");","map":{"version":3,"sources":["C:/codingtime/movieBox/front/pages/login.js"],"names":["AppLayout","React","ReactDOM","GoogleLogin","Google","googleLoginBtn","useRef","useState","token","setToken","useEffect","googleSDK","window","googleSDKLoaded","console","log","gapi","load","auth2","init","client_id","scope","attachClickHandler","current","googleUser","profile","getBasicProfile","getAuthResponse","id_token","getId","getName","getImageUrl","getEmail","error","alert","JSON","stringify","undefined","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","login"],"mappings":"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","sourcesContent":["import AppLayout from '../components/layout/AppLayout'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { GoogleLogin } from 'react-google-login';\r\n\r\nfunction Google() {\r\n    const googleLoginBtn = useRef(null);\r\n    const [token, setToken] = useState(\"\");\r\n  \r\n    useEffect(() => {\r\n      googleSDK();\r\n    }, []);\r\n  \r\n  \r\n  //SDK 초기 설정 및 내 API초기화\r\n   const googleSDK = () => {\r\n      window.googleSDKLoaded = () => {\r\n        console.log(window.gapi);\r\n        window.gapi.load(\"auth2\", () => {\r\n          const auth2 = window.gapi.auth2.init({\r\n            client_id:\r\n              \"내 클라이언트 ID\",\r\n            scope: \"profile email\",\r\n          });\r\n          //버튼 클릭시 사용자 정보 불러오기\r\n           auth2.attachClickHandler(\r\n            googleLoginBtn.current,\r\n            {},\r\n            (googleUser) => {\r\n              const profile = googleUser.getBasicProfile();\r\n              console.log(profile);\r\n              console.log(`Token || ${googleUser.getAuthResponse().id_token}`);\r\n              setToken(googleUser.getAuthResponse().id_token);\r\n              console.log(`ID: ${profile.getId()}`);\r\n              console.log(`Name: ${profile.getName()}`);\r\n              console.log(`Image URL: ${profile.getImageUrl()}`);\r\n              console.log(`Email: ${profile.getEmail()}`);\r\n            },\r\n            (error) => {\r\n              alert(JSON.stringify(error, undefined, 2));\r\n            }\r\n          );\r\n        });\r\n      };\r\n     //구글 SDK 불러오기\r\n         (function (d, s, id) {\r\n        let js;\r\n        const fjs = d.getElementsByTagName(s)[0];\r\n        if (d.getElementById(id)) {\r\n          return;\r\n        }\r\n        js = d.createElement(s);\r\n        js.id = id;\r\n        js.src = \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n      })(document, \"script\", \"google-jssdk\");\r\n    };\r\n    \r\n     return (\r\n      <GoogleBtn id=\"gSignInWrapper\">\r\n        <span class=\"label\" />\r\n        <div ref={googleLoginBtn} id=\"customBtn\" className=\"customGPlusSignIn\">\r\n          <span className=\"icon\"></span>\r\n          <span className=\"buttonText\">Login with Google</span>\r\n        </div>\r\n      </GoogleBtn>\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\nexport default login\r\n"]},"metadata":{},"sourceType":"module"}